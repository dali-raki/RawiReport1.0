@if (IsOpen)
{
    <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white w-full max-w-3xl p-6 rounded-xl shadow-xl">

            <h2 class="text-xl font-bold mb-4">Add Raw Material</h2>

            <EditForm Model="FormModel" OnValidSubmit="HandleSubmit">
                <DataAnnotationsValidator />
                <ValidationSummary />

                <!-- TABLE STYLE -->
                <table class="w-full border border-gray-300 text-sm">
                    <thead class="bg-gray-100">
                        <tr>
                            <th class="border px-2 py-1">Matière Première</th>
                            <th class="border px-2 py-1">Fournisseur</th>
                            <th class="border px-2 py-1">Quantité</th>
                            <th class="border px-2 py-1">Perte</th>
                            <th class="border px-2 py-1">Remark</th>
                        </tr>
                    </thead>

                    <tbody>
                        @foreach (var item in FormModel.RawMaterials)
                        {
                            <tr>
                                <td class="border p-1">@item.MatierePremiere</td>
                                <td class="border p-1">
                                    <InputText @bind-Value="item.Supplier" class="w-full p-1 border rounded" />
                                </td>
                                <td class="border p-1">
                                    <InputText @bind-Value="item.Quantity" class="w-full p-1 border rounded" />
                                </td>
                                <td class="border p-1">
                                    <InputText @bind-Value="item.Loss" class="w-full p-1 border rounded" />
                                </td>
                                <td class="border p-1">
                                    <InputText @bind-Value="item.Remark" class="w-full p-1 border rounded" />
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>


                <!-- SECOND TABLE (BOTTOM SECTION) -->
                <table class="w-full border border-gray-300 text-sm mt-6">
                    <thead class="bg-gray-100"> 
                        <tr> 
                            <th class="border px-2 py-1">Bottles</th> 
                            <th class="border px-2 py-1">Préforme Souffleuse</th>
                            <th class="border px-2 py-1">Postforme Souffleuse</th>
                            <th class="border px-2 py-1">Palettes</th>
                            <th class="border px-2 py-1">Total Palettes</th>
                            <th class="border px-2 py-1">Total Fardeaux</th>
                        </tr> 
                        </thead>
                        <tbody> 
                            <tr> 
                                <td class="border p-1">  <InputText @bind-Value="FormModel.Bottles" class="w-full p-1 border rounded" /> </td>
                                <td class="border p-1"> <InputText @bind-Value="FormModel.PreformeSouffleuse" class="w-full p-1 border rounded" /> </td>
                                <td class="border p-1"> <InputText @bind-Value="FormModel.PostformeSouffleuse" class="w-full p-1 border rounded" /> </td> 
                                <td class="border p-1"> <InputText @bind-Value="FormModel.Palettes" class="w-full p-1 border rounded" /> </td> 
                                <td class="border p-1"> <InputText @bind-Value="FormModel.TotalPalettes" class="w-full p-1 border rounded" /> </td> 
                                <td class="border p-1"> <InputText @bind-Value="FormModel.TotalFardeaux" class="w-full p-1 border rounded" /> </td>
                            </tr> 
                            </tbody> 
                       </table>
                <!-- BUTTONS -->
                <div class="flex justify-end mt-6 space-x-3">
                    <button type="button" class="px-4 py-2 border rounded-lg" @onclick="close">Cancel</button>
                    <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg">Save</button>
                </div>
            </EditForm>

        </div>
    </div>
}
